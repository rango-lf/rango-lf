<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="https://pixelsafari.neocities.org/favicon/object/tech/disc.gif">
  <script src="https://kit.fontawesome.com/128de1c489.js" crossorigin="anonymous"></script>
  <script src="header.js"></script>
  <title>ADVICE</title>
  <meta name="description" content="Rango L.F.'s undergraduate engineering blog">
  <meta name="author" content="Rango L.F.">
  
  <style>
    /* Root settings */
    :root {
      /* column widths */
      --widthSidebar: 250px;
      --widthContent: 820px;

      /* general page and text colours */
      --colorBackground: #f2f2f2;
      --colorText: darkslategray;
      --colorLink: darkslategrey;

      /* accent colours */
      --colorPrimary: #a0d0a0;
      --colorSecondary: #a0d0a0;
      --colorTertiary: #a0d0a0;

      /* border and box shadow colours */ 
      --colorBorder: darkslategrey;
      --colorShadow: darkslategrey;

      /* background colour for the sections */
      --colorBackgroundMain: #f2f2f2;

      /* fonts */
      --fontText: 'DM Mono', sans-serif;
      --fontTitle: 'w95fa', monospace;

      /* borders */
      --borderSolid: 1.5px solid darkslategrey;
      --borderDotted: 1.5px dotted darkslategrey;
      --borderTree: 1.5px solid darkslategrey;

      /* gallery settings */
      --columnCount: 2;
      --columnGap: 8px;

      /* background image FOR ALL PAGES */
      --imageBackground: none;
    }

    /* Global site structure */
    * {
      box-sizing: border-box;
    }

    body {
      display: flex;
      flex-flow: column;
      justify-content: flex-start;
      margin: 0;
      min-height: 100vh;
      font-family: var(--fontText);
      color: var(--colorText);
      background-color: var(--colorBackground);
      background-image: var(--imageBackground);
      background-repeat: no-repeat;
      background-position: center;
      background-size: cover;
      background-attachment: fixed;
      padding-top: 60px; /* Space for fixed header */
    }

    /* Permanent header navigation */
    .permanent-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background-color: var(--colorBackground);
      border-bottom: var(--borderDotted);
      padding: 8px 16px;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 16px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .permanent-header .logo {
      font-family: var(--fontTitle);
      font-weight: bold;
      color: var(--colorText);
      text-decoration: none;
      margin-right: auto;
    }

    /* Hamburger menu button - hidden on desktop */
    .hamburger-menu {
      display: none;
    }

    .hamburger-toggle {
      background: var(--colorPrimary);
      border: var(--borderSolid);
      color: var(--colorText);
      padding: 8px 10px;
      cursor: pointer;
      font-size: 16px;
    }

    .hamburger-toggle:hover {
      background-color: var(--colorBorder);
      color: var(--colorBackground);
    }

    /* Desktop navigation */
    .desktop-nav {
      display: flex;
      gap: 10px;
      align-items: center;
      border: none;
      padding: 0;
    }

    .desktop-nav a {
      font-family: var(--fontTitle);
      text-transform: uppercase;
      text-decoration: none;
      color: var(--colorText);
      background: var(--colorPrimary);
      border: var(--borderSolid);
      padding: 6px 12px;
      font-size: 15px;
    }

    .desktop-nav a:hover {
      background-color: var(--colorBorder);
      color: var(--colorBackground);
    }

    /* Mobile navigation - hidden by default */
    .mobile-nav {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: var(--colorBackground);
      border-top: var(--borderSolid);
      border-bottom: var(--borderSolid);
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      flex-direction: column;
      padding: 8px 16px;
      z-index: 1001;
    }

    .mobile-nav.active {
      display: flex;
    }

    .mobile-nav a {
      font-family: var(--fontTitle);
      text-transform: uppercase;
      text-decoration: none;
      color: var(--colorText);
      background: var(--colorPrimary);
      border: var(--borderSolid);
      padding: 8px 12px;
      font-size: 14px;
      margin-bottom: 4px;
      text-align: center;
    }

    .mobile-nav a:hover {
      background-color: var(--colorBorder);
      color: var(--colorBackground);
    }

    .mobile-nav a:last-child {
      margin-bottom: 0;
    }

    main {
      display: flex;
      flex-flow: row wrap;
      align-items: flex-start;
      flex: 1;
    }

    /* Sidebar structure */
    main > .sidebar {
      flex: 0 0 var(--widthSidebar);
      padding: 1em;
    }

    /* Sticky TOC widget for desktop only */
    .toc-widget {
      position: sticky;
      top: 80px; /* Account for fixed header */
      height: fit-content;
      max-height: calc(100vh - 100px);
      overflow-y: auto;
      /* Smooth scrolling for the TOC */
      scroll-behavior: smooth;
      margin-bottom: 16px;
    }

    /* Static widgets remain normal */
    .static-widget {
      position: static;
    }

    main > .content {
      display: flex;
      flex-flow: row wrap;
      flex: 1 1 20em;
      max-width: var(--widthContent);
      padding: 1em;
    }

    footer {
      display: flex;
      flex-flow: row wrap;
      justify-content: space-between;
      width: 100%;
      border-top: var(--borderDotted);
      background-color: var(--colorBackground);
      padding: 0 1em;
      font-size: 0.7em;
      margin-top: auto;
    }

    /* Back button styling */
    .back-button {
      background-color: var(--colorPrimary);
      border: var(--borderSolid);
      box-shadow: 3px 3px 0 var(--colorShadow);
      padding: 8px 16px;
      margin: 0 1em 10px 1em;
      width: fit-content;
      max-width: calc(var(--widthContent) - 2em);
    }

    .back-button a {
      font-family: var(--fontTitle);
      font-size: 0.9em;
      text-transform: uppercase;
      text-decoration: none;
      color: var(--colorText);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .back-button a:hover {
      color: var(--colorText);
      background: none;
    }

    .back-button:hover {
      background-color: var(--colorBorder);
    }

    .back-button:hover a {
      color: var(--colorBackground);
    }

    /* Title box styling - compact and aligned with content width */
    .title-box {
      background-color: var(--colorPrimary);
      border: var(--borderSolid);
      box-shadow: 3px 3px 0 var(--colorShadow);
      padding: 8px 16px;
      margin: 0 1em 15px 1em;
      width: calc(100% - 2em);
      max-width: calc(var(--widthContent) - 2em);
    }

    .title-box h1 {
      margin: 0;
      padding: 0;
      font-family: var(--fontTitle);
      font-size: 1.5em;
      text-transform: uppercase;
    }

    /* Widget styling with borders and shadows */
    .sidebar > .widget {
      background-color: var(--colorBackgroundMain);
      border: var(--borderSolid);
      box-shadow: 0.3em 0.3em var(--colorShadow);
      padding: 12px;
      margin-bottom: 16px;
    }

    .sidebar > .widget h3 {
      margin: 0 0 8px 0;
      font-family: var(--fontTitle);
      text-transform: uppercase;
      font-size: 1em;
    }

    .sidebar > .widget p {
      margin: 8px 0 0 0;
      font-size: 0.9em;
    }

    .sidebar > .widget img {
      width: 100%;
      margin: 8px 0;
      border: 1px solid var(--colorBorder);
    }

    /* Table of Contents styling */
    .toc {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .toc li {
      margin-bottom: 6px;
    }

    .toc a {
      text-decoration: none;
      color: var(--colorText);
      font-size: 0.9em;
      display: block;
      padding: 4px 8px;
      border-left: 2px solid transparent;
      transition: all 0.2s ease;
    }

    .toc a:hover {
      background-color: var(--colorPrimary);
      border-left-color: var(--colorBorder);
      color: var(--colorText);
    }

    .toc .active {
      background-color: var(--colorPrimary);
      border-left-color: var(--colorBorder);
    }

    /* Nested TOC items */
    .toc .toc-level-2 {
      padding-left: 16px;
      font-size: 0.8em;
    }

    .toc .toc-level-3 {
      padding-left: 32px;
      font-size: 0.75em;
    }

    /* Global text settings */
    h1, h2, h3, h4, h5, h6 {
      font-family: var(--fontTitle);
      word-wrap: break-word;
    }

    p {
      font-family: var(--fontText);
    }

    b {
      color: darkslategray;
    }

    a {
      color: var(--colorLink);
    }

    a:hover {
      color: var(--colorBackground);
      background-color: var(--colorLink);
    }

    button, .button {
      font-family: var(--fontTitle);
      text-transform: uppercase;
      text-decoration: none;
      color: var(--colorText);
      background-color: var(--colorPrimary);
      border: 1px solid var(--colorPrimary);
      padding: 8px 12px;
    }

    button:hover, .button:hover {
      background-color: var(--colorBackgroundMain);
      color: var(--colorText);
    }

    hr {
      border: 0;
      border-top: var(--borderDotted);
      margin: 1em 0;
      width: 100%;
    }

    blockquote {
      margin: 1.5em;
      padding-left: 1.5em;
      border-left: 1px solid var(--colorSecondary);
    }

    /* Sections */
    section {
      border: 1.5px solid var(--colorBorder);
      background-color: var(--colorBackgroundMain);
      color: var(--colorText);
      padding: 1em;
      box-shadow: 0.5em 0.5em var(--colorBorder);
      margin: 0 1em 2em 1em;
      width: calc(100% - 2em);
      scroll-margin-top: 80px; /* Account for fixed header when jumping to sections */
    }

    section h1 {
      text-transform: uppercase;
      padding: 0 1em;
      color: var(--colorBackground);
      background: var(--colorText);
    }

    section h2 {
      border-bottom: 1px solid var(--colorBorder);
      scroll-margin-top: 80px;
    }

    section h3 {
      scroll-margin-top: 80px;
    }

    section img {
      width: auto;
      border: 1px solid var(--colorBorder);
    }

    section p {
      padding: 0 1em;
      max-inline-size: 700px;
    }

    /* Flex columns */
    section > .flex-columns {
      display: flex;
      flex-flow: row wrap;
      align-items: center;
    }

    .flex-columns > .flex-text {
      width: 70%;
    }

    .flex-columns > .flex-image {
      width: 25%;
      margin: 15px;
    }

    .flex-columns > .flex-image > img {
      width: auto;
      padding: 0 1em;
    }

    /* Half width sections */
    .half-width {
      display: flex;
      flex-flow: row wrap;
      width: 100%;
      min-height: 300px;
    }

    .half-width section {
      width: calc(50% - 2em);
      margin: 0 1em 2em 1em;
    }

    /* Mobile responsiveness */
    @media screen and (max-width: 768px) {
      body {
        padding-top: 60px; /* Adjusted for mobile header height */
      }

      .permanent-header {
        padding: 8px 12px;
      }

      /* Show hamburger menu on mobile */
      .hamburger-menu {
        display: block;
      }

      /* Hide desktop nav on mobile */
      .desktop-nav {
        display: none;
      }

      main {
        flex-direction: column;
      }

      /* Remove sticky positioning and TOC functionality on mobile */
      main > .sidebar {
        position: static;
        top: auto;
        height: auto;
        max-height: none;
        overflow-y: visible;
        flex: none;
        width: 100%;
        order: 2;
        padding: 8px;
      }

      /* Hide TOC widget on mobile */
      .sidebar .widget:first-child {
        display: none;
      }

      main > .content {
        order: 1;
        padding: 8px;
        max-width: 100%;
      }

      .back-button {
        margin: 0 0 10px 0;
        width: 100%;
        max-width: 100%;
      }

      .title-box {
        margin: 0 0 15px 0;
        width: 100%;
        max-width: 100%;
      }

      section {
        margin: 0 0 2em 0;
        width: 100%;
      }

      section > .flex-columns {
        flex-direction: column;
      }

      .flex-columns > .flex-text,
      .flex-columns > .flex-image {
        width: 100%;
      }

      .half-width {
        flex-direction: column;
      }

      .half-width section {
        width: 100%;
        margin: 0 0 2em 0;
      }
    }

    @media screen and (max-width: 480px) {
      .hamburger-toggle {
        padding: 6px 8px;
        font-size: 14px;
      }

      .mobile-nav a {
        padding: 6px 10px;
        font-size: 12px;
      }
    }
  </style>
</head>

<body>
  <!-- Permanent header navigation -->
  <!-- Add your header content here -->

  <main>
    <div class="sidebar"> 
      <!-- Table of Contents Widget -->
      <div class="widget">
        <h2 style="color: #f2f2f2; background-color: darkslategray; margin-top: 5px; margin-bottom: 5px; padding: 3px">QUICK LINKS.</h2>
        <ul class="toc" id="toc">
          <!-- TOC will be auto-generated by JavaScript -->
        </ul>
      </div>
      
       <div class="widget">
        <h2 style="color: #f2f2f2; background-color: darkslategray; margin-top: 5px; margin-bottom: 5px; padding: 3px">CONTACT</h2>
                  <a style="font-size: 25px;" href="mailto:rango.leefu@mail.utoronto.ca"><i class="fa-solid fa-envelope"></i></a>
          <a style="font-size: 25px;" href="https://www.linkedin.com/in/rango-lee-fu-7351b52b7/"><i class="fa-brands fa-linkedin"></i></a>
        <a style="font-size: 25px" href="https://github.com/rango-lf"</a><i class="fa-brands fa-github"></i></a>
        <p style="font-size: 12px">Please allow 2-3 business days for a response.</p>
      </div>

      <div class="widget">
        <p style="font-size: 10px">P.S. The thoughts, advice, and opinions presented on this site reflect the views of the University of Toronto, the Faculty of Applied Science and Engineering, the Engineering Society, and all other affiliated organisations... NOT! If you have any concerns or questions regarding this site, please email me.</p>
      </div>
      <img src="https://rainy.gay/pride/bv/progress.png"> 
      <img src="https://rainy.gay/pride/bv/lesbian.png">
    </div>

    <div class="content">
      <!-- Compact title box aligned with content -->
      <div class="title-box">
        <h1>UNIVERSITY ADVICE.</h1>
      </div>

      <!-- Blog post content sections -->
      <section id="introduction">
        <h1>INTRODUCTION</h1>
        <p>Welcome to my university advice page! This is a collection of tips, lessons, and resources I've acquired during my time in UofT Engineering. This is still a massive <b>WORK IN PROGRESS</b> and will be regularly updated.</p>
        <p>Feel free to reach out if you have specific questions or suggestions for new topics.</p>
      </section>

            <section id="engineering-specific">
        <h1>ENGINEERING-SPECIFIC ADVICE</h1>
        
        <h2 id="first-year-survival">First Year Survival Guide</h2>
        <p>WIP</p>

        <h2 id="capstone-projects">Courses</h2>
        <p>WIP</p>
        <li>Check out <a href="https://arnav-patil-12.github.io/notes/year-one/">Arnav's course notes</a> for all first-year Core 8 courses.</li>

        <h2 id="discipline-selection">Discipline Selection</h2>
        <p>WIP</p>

        <h2 id="design-teams">Design Teams & Clubs</h2>
        <p>WIP</p>

      </section>

      <section id="academics">
        <h1>ACADEMIC RESOURCES</h1>
        
        <h2 id="study-tips">Study Tips & Strategies</h2>
        <p>WIP</p>

        <h2 id="time-management">Time Management</h2>
        <p>WIP</p>

        <h2 id="course-selection">Course Selection</h2>
        <p>WIP</p>
      </section>

      <section id="campus-life">
        <h1>CAMPUS LIFE</h1>
        
        <h2 id="clubs-activities">Clubs & Activities</h2>
        <p>WIP</p>

        <h2 id="networking">Networking</h2>
        <p>WIP</p>

        <h2 id="work-life-balance">Commuting</h2>
        <p>WIP</p>
        <li>Check out the <a href="https://commuter.skule.ca/resources-tips">Skule Commuter Students Directorship</a> for more resources and tips! Most of the ones below are taken straight from their site.</li>
        <li>For the GO Trains:</li>
        <ul><li>GO Train schedules are usually very accurate, and doors close 1-2 minutes before departure.</li>
        <li>If you are travelling from Oakville, Brampton, or Milton, a GO train is likely your best method of commute.</li>
        <li>Get off at Union Station, and take Line 1 up to Queen's Park Station.</li>
        <li>Don’t forget to set a default trip. If your PRESTO card has a default trip set for travel between two stations, you only have to tap on it. If you take a trip that begins or ends at a different station, you have to tap on and off.</li>
        <ul><li></li>If you forget to tap off at the end of your trip, you will be charged the fare to the last stop on the line. You can always appeal a refund by filling out the webform on <a href="https://www.gotransit.com/en">gotransit.com</a>.</li></ul>
        <li>For the TTC:</li>
        <ul><li>TTC has completely inconsistent schedules that are (often) delayed by traffic, weather, etc.</li>
        <ul><li>TTC trains are usually every 2-3 mins during rush hour and 4-5 mins during off-peak hours.</li></ul>
        <ul><li>I recommend downloading an app, such as the TTC Watch for Toronto, or using the official TTC texting service (898882) for real-time tracking.</li></ul>
        <li>If you are travelling from Kipling, Vaughan, or North York, the TTC subway is likely your best method of commute.</li>
        <li>There are four subway stations on or very near the University of Toronto: Queen's Park Station, Museum Station, St. George Station and Spadina Station. Queen's Park is the the closest to the Engineering Buildings.</li>
        <lu><li>If you commuting from Finch Side (Line 1), you can walk to campus from College station (about a 12-minute walk).</li></lu>
        <li>After your initial payment using your PRESTO card you can travel free of cost for the next two hours.</li></ul>
        <li>Try to be productive on your commute (given you don't get motion sick easily). If your commute is longer than 40 minutes, you might want to do some light work, read, or catch up on sleep.</li>
        <li>Arrive at your destination at least 5-10 minutes before class starts. You can plan this out with Google Maps/Apple Maps</li>
        <li>If you are commuting from Queen’s park, try to walk through Medical Science Building which will save you a solid 2-3 minutes each time.</li>
        <li>f you live close to the UofT Mississauga campus, you can take a shuttle bus between there and St.George. Rides are $7 with a $650 semester pass.</li>
      </section>

      <section id="career-development">
        <h1>CAREER DEVELOPMENT</h1>
        
        <h2 id="internships">Internships & Co-op</h2>
        <p>WIP</p>

        <h2 id="resume-tips">Resume & Cover Letter Tips</h2>
        <p>WIP</p>

        <h2 id="interview-prep">Interview Preparation</h2>
        <p>WIP</p>

      </section>

      <section id="finances">
        <h1>FINANCES</h1>
        
                <h2 id="side-hustles">Other Freebies & Discounts(!!)</h2>
        <p>P.S. Most of these require you to present your TCard or student email.</p>
          <li>10% off groceries on purchases over $50 at Maisie’s Independent City Market (in the Manulife Centre at Bay and Bloor). Discount is only available on Tuesdays.</li>
          <li>Free student Tuesdays at the Royal Ontario Museum</li>
          <li>15% discount on Shopper's Drug Mart on Bloor St.</li>
          <li>Free condoms, lube, menstrual products, peer counselling, and more at the <a  href="https://www.secutoronto.org/">Sexual Education Centre</a>.
        <li>Discounted Admit One and Great Escape movie passes at any Cineplex location.</li>
        <li>The <a href="https://www.isic.org/">International Student Identity Card (ISIC)</a> provides discounts for almost everything. Virtual cards are a $20 one-time purchase.</a>
 <li>A <a href="https://onesearch.library.utoronto.ca/ic/available-software">list of free software</a> for engineering students, including instructions on how to activate them.</li>
      <li>Engineering students can get free black-and-white printing at any ECF lab. See quota details <a href="https://undergrad.engineering.utoronto.ca/campus-facilities/engineering-computing-facility-ecf/ecf-printing/printers-paper-quota/">here</a></li>
      <li>Discounts for software (e.g. Microsoft Project, Visual Studio Enterprise, Adobe CC, Norton AntiVirus, etc.) through <a href="https://uoft.onthehub.com/WebStore/Security/Signin.aspx?rurl=%2fWebStore%2fProductsByMajorVersionList.aspx%3fcmi_cs%3d1%26cmi_mnuMain%3df189368a-f0a6-e811-8109-000d3af41938">OnTheHub</a></li>
      <li>Free video, film, and TV streaming services through <a href="https://onesearch.library.utoronto.ca/streaming-video">UofT Libraries</a></li>
      <li>The <a href="https://www.reddit.com/r/Piracy/wiki/megathread/">r/Piracy Wiki Megathread </a> for almost all digital media, but shhhhh.... you didn't hear it from me.</li>
        
        <h2 id="budgeting">Budgeting</h2>
        <p>WIP</p>

        <h2 id="scholarships">Scholarships & Financial Aid</h2>
        <p>WIP</p>

        <h2 id="side-hustles">Work-Study & Other Part-time Work</h2>
        <p>WIP</p>
      </section>


      <section id="tech-tools">
        <h1>TECH & TOOLS</h1>
        
        <h2 id="software-recommendations">Tech Requirements</h2>
        <p>WIP</p>

        <h2 id="productivity-apps">Productivity Apps</h2>
        <p>WIP</p>
        <li>Check out this <a href="https://paint-tractor-7ee.notion.site/Homebase-hankun-s-template-rev-1-16965582d36d801cb92ad476637c6811">Notion template</a> designed specifically for UofT Engineering students. Made by Hankun.</li>

        <h2 id="printing-fabrication-and-more">Printing & Fabrication</h2>
        <p>WIP</p>
        
      </section>


      <section id="faq">
        <h1>FREQUENTLY ASKED QUESTIONS</h1>
        
        <h2 id="admission-questions">Admission & Application Questions</h2>
        <p>WIP</p>

        <h2 id="program-questions">Program-Specific Questions</h2>
        <p>WIP</p>

        <h2 id="general-questions">General University Questions</h2>
        <p>WIP</p>
      </section>
    </div>
  </main>

  <footer>
    <p>rango l.f. / 2025</p>
    <p class="template-credits"><a href="https://debtdeath.neocities.org/templates">INSPIRED BY: (C) CC-LINK</a></p>
  </footer>

  <script>
    // Auto-generate Table of Contents (desktop only)
    function generateTOC() {
      if (window.innerWidth <= 768) return; // Don't generate TOC on mobile
      
      const toc = document.getElementById('toc');
      const headings = document.querySelectorAll('section h1, section h2, section h3');
      
      toc.innerHTML = '';
      
      headings.forEach(function(heading, index) {
        // Create an ID for the heading if it doesn't have one
        if (!heading.id) {
          heading.id = 'heading-' + index;
        }
        
        const li = document.createElement('li');
        const a = document.createElement('a');
        
        a.href = '#' + heading.id;
        a.textContent = heading.textContent;
        a.onclick = function(e) {
          e.preventDefault();
          scrollToSection(heading.id);
        };
        
        // Add appropriate class based on heading level
        if (heading.tagName === 'H2') {
          a.className = 'toc-level-2';
        } else if (heading.tagName === 'H3') {
          a.className = 'toc-level-3';
        }
        
        li.appendChild(a);
        toc.appendChild(li);
      });
    }

    // Smooth scroll to section
    function scrollToSection(sectionId) {
      const element = document.getElementById(sectionId);
      if (element) {
        element.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
        
        // Update active state
        updateActiveTOCItem(sectionId);
      }
    }

    // Update active TOC item and scroll it into view
    function updateActiveTOCItem(activeId) {
      if (window.innerWidth <= 768) return; // Don't update on mobile
      
      const tocLinks = document.querySelectorAll('.toc a');
      const sidebar = document.querySelector('.sidebar');
      let activeLink = null;
      
      tocLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + activeId) {
          link.classList.add('active');
          activeLink = link;
        }
      });
      
      // Scroll the active TOC item into view within the sidebar
      if (activeLink && sidebar) {
        const sidebarRect = sidebar.getBoundingClientRect();
        const linkRect = activeLink.getBoundingClientRect();
        
        // Check if the active link is outside the visible area of the sidebar
        if (linkRect.top < sidebarRect.top || linkRect.bottom > sidebarRect.bottom) {
          // Calculate the scroll position to center the active link in the sidebar
          const sidebarScrollTop = sidebar.scrollTop;
          const linkOffsetTop = activeLink.offsetTop;
          const sidebarHeight = sidebar.clientHeight;
          const linkHeight = activeLink.offsetHeight;
          
          const targetScrollTop = linkOffsetTop - (sidebarHeight / 2) + (linkHeight / 2);
          
          sidebar.scrollTo({
            top: targetScrollTop,
            behavior: 'smooth'
          });
        }
      }
    }

    // Highlight current section in TOC on scroll (desktop only)
    function highlightCurrentSection() {
      if (window.innerWidth <= 768) return; // Don't highlight on mobile
      
      const headings = document.querySelectorAll('section h1, section h2, section h3');
      const scrollPosition = window.scrollY + 120; // Slightly increased offset for better accuracy
      
      let currentSection = '';
      
      headings.forEach(heading => {
        const sectionTop = heading.offsetTop;
        if (scrollPosition >= sectionTop) {
          currentSection = heading.id;
        }
      });
      
      if (currentSection) {
        updateActiveTOCItem(currentSection);
      }
    }

    // Mobile menu functionality
    function toggleMobileMenu() {
      const mobileNav = document.getElementById('mobile-nav');
      const hamburgerIcon = document.querySelector('.hamburger-toggle i');
      
      if (mobileNav) {
        mobileNav.classList.toggle('active');
        
        // Toggle hamburger icon between bars and X
        if (mobileNav.classList.contains('active')) {
          hamburgerIcon.className = 'fas fa-times';
        } else {
          hamburgerIcon.className = 'fas fa-bars';
        }
      }
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      generateTOC();
    });

    // Listen for scroll events to highlight current section (desktop only)
    let scrollTimeout;
    window.addEventListener('scroll', function() {
      // Throttle scroll events for better performance
      if (scrollTimeout) {
        clearTimeout(scrollTimeout);
      }
      scrollTimeout = setTimeout(highlightCurrentSection, 10);
    });

    // Regenerate TOC on window resize
    window.addEventListener('resize', function() {
      generateTOC();
      
      // Close mobile menu when window is resized to desktop size
      if (window.innerWidth > 768) {
        const mobileNav = document.getElementById('mobile-nav');
        if (mobileNav) {
          mobileNav.classList.remove('active');
          const hamburgerIcon = document.querySelector('.hamburger-toggle i');
          if (hamburgerIcon) {
            hamburgerIcon.className = 'fas fa-bars';
          }
        }
      }
    });

    // Close mobile menu when clicking outside
    document.addEventListener('click', function(event) {
      const mobileNav = document.getElementById('mobile-nav');
      const hamburgerMenu = document.querySelector('.hamburger-menu');
      
      if (mobileNav && hamburgerMenu && !hamburgerMenu.contains(event.target) && !mobileNav.contains(event.target)) {
        mobileNav.classList.remove('active');
        const hamburgerIcon = document.querySelector('.hamburger-toggle i');
        if (hamburgerIcon) {
          hamburgerIcon.className = 'fas fa-bars';
        }
      }
    });
  </script>
</body>
</html>
